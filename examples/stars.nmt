func write(fd @int, buf @ptr, size @u64) {
    var err = 0;
    asm {
        "mov rax, 1"
        "mov rdi, %fd"
        "mov rsi, %buf"
        "mov rdx, %size"
        "syscall"
        "mov %err, rax"
    }
}

func main() {
    var line @[char,30];
    line[0] = 42;
    var index = 0;
    while index < 20 {
        index += 1;
        write(1, ptr line, index);
        write(1, "\n", 1);
        line[index] = 42;
        ~~ line.push("*");
    }
}
